<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
    <link rel="stylesheet" href="../css/login.css">
    <script type="text/javascript" src="../js/validation.js" defer></script>
</head>

<body>
    <script type="module">
        import { sign_up } from '../backend/database/signup.js';

        document.getElementById('signup-btn').addEventListener('click', async (event) => {
            event.preventDefault(); 

            const firstName = document.getElementById('name-input').value;
            const lastName = document.getElementById('last-name-input').value;
            const institutionName = document.getElementById('inst-name-input').value;
            const institutionType = document.getElementById('institution-type').value;
            const email = document.getElementById('email-input').value;
            const password = document.getElementById('password-input').value;
            const confirmPassword = document.getElementById('confirm-password-input').value;


            await sign_up(firstName, lastName, institutionName, institutionType, email, password, confirmPassword);
        });
    </script>

    <div class="wrapper">
        <h1>Sign up</h1>
        <p id="error-message"></p>
        <form id="form">
            <div>
                <label for="first-name-input">
                    <img src="../assets/person.png" width="30px">
                </label>
                <input required type="text" name="name" id="name-input" placeholder="First Name">
            </div>
            <div>
                <label for="last-name-input">
                    <img src="../assets/person.png" width="30px">
                </label>
                <input required type="text" name="name" id="last-name-input" placeholder="Last Name">
            </div>
            <div>
                <label for="inst-name-input">
                    <img src="../assets/group.png" width="30px">
                </label>
                <input required type="text" name="name" id="inst-name-input" placeholder="Institution Name">
            </div>
            <div>
                <label for="institution-type">
                    <img src="../assets/group.png" width="30px">
                </label>
                <select id="institution-type" name="types">
                    <option value="null" selected>Select an Institution Type</option> 
                    <option value="nursery">Nursery</option>
                    <option value="primary-school">Primary School</option>
                    <option value="secondary-school">Secondary School</option>
                    <option value="university">University</option>
                    <option value="scout-group">Scout Group</option>
                    <option value="care-home">Care Home</option>
                </select> 
            </div>
            <div>
                <label for="email-input">
                    <img src="../assets/mail.png" width="30px">
                </label>
                <input required type="email" name="email" id="email-input" placeholder="Email">
            </div>
            <div>
                <label for="password-input">
                    <img src="../assets/lock.png" width="30px">
                </label>
                <input required type="password" name="password" id="password-input" placeholder="Password">
            </div>
            <div>
                <label for="confirm-password-input">
                    <img src="../assets/lock.png" width="30px">
                </label>
                <input required type="password" name="confirm-password" id="confirm-password-input" placeholder="Confirm Password">
            </div>
            <button type="submit" id="signup-btn">
                Sign up
            </button>
        </form>
        <p>Already a verified institution? <a href="leader-login.html">Log in</a></p>
    </div>
</body>

</html>
